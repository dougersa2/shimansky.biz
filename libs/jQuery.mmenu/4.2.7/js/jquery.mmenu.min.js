(function(e){function m(a,b,g){if(g)return"object"!=typeof a&&(a={}),"boolean"!=typeof a.isMenu&&(g=g.children(),a.isMenu=1==g.length&&g.is(b.panelNodetype)),a;a=e.extend(!0,{},e[f].defaults,a);if("top"==a.position||"bottom"==a.position)if("back"==a.zposition||"next"==a.zposition)e[f].deprecated('Using position "'+a.position+'" in combination with zposition "'+a.zposition+'"','zposition "front"'),a.zposition="front";return a}function p(a){a=e.extend(!0,{},e[f].configuration,a);"string"!=typeof a.pageSelector&&
(a.pageSelector="> "+a.pageNodetype);"append"!=a.menuInjectMethod&&(a.menuInjectMethod="prepend");return a}function q(){d.$wndw=e(window);d.$html=e("html");d.$body=e("body");d.$allMenus=e();e.each([b,l,c],function(a,b){b.add=function(a){a=a.split(" ");for(var h in a)b[a[h]]=b.mm(a[h])}});b.mm=function(a){return"mm-"+a};b.add("menu ismenu panel list subtitle selected label spacer current highest hidden page blocker modal background opened opening subopened subopen fullsubopen subclose");b.umm=function(a){"mm-"==
a.slice(0,3)&&(a=a.slice(3));return a};l.mm=function(a){return"mm-"+a};l.add("parent style");c.mm=function(a){return a+".mm"};c.add("toggle open opening opened close closing closed update setPage setSelected transitionend webkitTransitionEnd mousedown touchstart mouseup touchend scroll touchmove click keydown keyup resize");d.$wndw.on(c.keydown,function(a){if(d.$html.hasClass(b.opened)&&9==a.keyCode)return a.preventDefault(),!1});var a=0;d.$wndw.on(c.resize,function(e,g){if(g||d.$html.hasClass(b.opened)){var c=
d.$wndw.height();if(g||c!=a)a=c,d.$page.css("minHeight",c)}});e[f]._c=b;e[f]._d=l;e[f]._e=c;e[f].glbl=d}function n(a,b,g){var e=!1,d=function(){e||b.call(a[0]);e=!0};a.one(c.transitionend,d);a.one(c.webkitTransitionEnd,d);setTimeout(d,1.1*g)}var f="mmenu";if(!e[f]){var d={$wndw:null,$html:null,$body:null,$page:null,$blck:null,$allMenus:null},b={},l={},c={},r=0;e[f]=function(a,b,e){d.$allMenus=d.$allMenus.add(a);this.$menu=a;this.opts=b;this.conf=e;this.opened=!1;this.serialnr=r++;this._init();return this};
e[f].prototype={open:function(){if(this.opened)return!1;var a=this;this._openSetup();setTimeout(function(){a._openFinish()},50);return"open"},_openSetup:function(){d.$wndw.scrollTop();this.$menu.addClass(b.current);d.$allMenus.not(this.$menu).trigger(c.close);d.$page.data(l.style,d.$page.attr("style")||"");d.$wndw.trigger(c.resize,[!0]);this.opts.modal&&d.$html.addClass(b.modal);this.opts.moveBackground&&d.$html.addClass(b.background);"left"!=this.opts.position&&d.$html.addClass(b.mm(this.opts.position));
"back"!=this.opts.zposition&&d.$html.addClass(b.mm(this.opts.zposition));this.opts.classes&&d.$html.addClass(this.opts.classes);d.$html.addClass(b.opened);this.$menu.addClass(b.opened)},_openFinish:function(){var a=this;n(d.$page,function(){a.opened=!0;a.$menu.trigger(c.opened)},this.conf.transitionDuration);d.$html.addClass(b.opening);this.$menu.trigger(c.opening)},close:function(){var a=this;if(!this.opened)return!1;n(d.$page,function(){a.$menu.removeClass(b.current).removeClass(b.opened);d.$html.removeClass(b.opened).removeClass(b.modal).removeClass(b.background).removeClass(b.mm(a.opts.position)).removeClass(b.mm(a.opts.zposition));
a.opts.classes&&d.$html.removeClass(a.opts.classes);d.$page.attr("style",d.$page.data(l.style));a.opened=!1;a.$menu.trigger(c.closed)},this.conf.transitionDuration);d.$html.removeClass(b.opening);this.$menu.trigger(c.closing);return"close"},_init:function(){this.opts=m(this.opts,this.conf,this.$menu);this.direction=this.opts.slidingSubmenus?"horizontal":"vertical";this._initPage(d.$page);this._initMenu();this._initBlocker();this._initPanles();this._initLinks();this._initOpenClose();this._bindCustomEvents();
if(e[f].addons)for(var a=0;a<e[f].addons.length;a++)if("function"==typeof this["_addon_"+e[f].addons[a]])this["_addon_"+e[f].addons[a]]()},_bindCustomEvents:function(){var a=this;this.$menu.off(c.open+" "+c.close+" "+c.setPage+" "+c.update).on(c.open+" "+c.close+" "+c.setPage+" "+c.update,function(a){a.stopPropagation()});this.$menu.on(c.open,function(c){return e(this).hasClass(b.current)?(c.stopImmediatePropagation(),!1):a.open()}).on(c.close,function(c){return e(this).hasClass(b.current)?a.close():
(c.stopImmediatePropagation(),!1)}).on(c.setPage,function(b,e){a._initPage(e);a._initOpenClose()});var d=this.$menu.find(this.opts.isMenu&&"horizontal"!=this.direction?"ul, ol":"."+b.panel);d.off(c.toggle+" "+c.open+" "+c.close).on(c.toggle+" "+c.open+" "+c.close,function(a){a.stopPropagation()});if("horizontal"==this.direction)d.on(c.open,function(c){c=e(this);var d=a.$menu;if(c.hasClass(b.current))c=!1;else{var d=e("."+b.panel,d),h=d.filter("."+b.current);d.removeClass(b.highest).removeClass(b.current).not(c).not(h).addClass(b.hidden);
c.hasClass(b.opened)?h.addClass(b.highest).removeClass(b.opened).removeClass(b.subopened):(c.addClass(b.highest),h.addClass(b.subopened));c.removeClass(b.hidden).removeClass(b.subopened).addClass(b.current).addClass(b.opened);c="open"}return c});else d.on(c.toggle,function(a){a=e(this);return a.triggerHandler(a.parent().hasClass(b.opened)?c.close:c.open)}).on(c.open,function(a){e(this).parent().addClass(b.opened);return"open"}).on(c.close,function(a){e(this).parent().removeClass(b.opened);return"close"})},
_initBlocker:function(){var a=this;d.$blck||(d.$blck=e('<div id="'+b.blocker+'" />').appendTo(d.$body));d.$blck.off(c.touchstart).on(c.touchstart,function(a){a.preventDefault();a.stopPropagation();d.$blck.trigger(c.mousedown)}).on(c.mousedown,function(e){e.preventDefault();d.$html.hasClass(b.modal)||a.$menu.trigger(c.close)})},_initPage:function(a){a||(a=e(this.conf.pageSelector,d.$body),1<a.length&&(e[f].debug("Multiple nodes found for the page-node, all nodes are wrapped in one <"+this.conf.pageNodetype+
">."),a=a.wrapAll("<"+this.conf.pageNodetype+" />").parent()));a.addClass(b.page);d.$page=a},_initMenu:function(){this.conf.clone&&(this.$menu=this.$menu.clone(!0),this.$menu.add(this.$menu.find("*")).filter("[id]").each(function(){e(this).attr("id",b.mm(e(this).attr("id")))}));this.$menu.contents().each(function(){3==e(this)[0].nodeType&&e(this).remove()});this.$menu[this.conf.menuInjectMethod+"To"](this.conf.menuWrapperSelector).addClass(b.menu);this.$menu.addClass(b.mm(this.direction));this.opts.classes&&
this.$menu.addClass(this.opts.classes);this.opts.isMenu&&this.$menu.addClass(b.ismenu);"left"!=this.opts.position&&this.$menu.addClass(b.mm(this.opts.position));"back"!=this.opts.zposition&&this.$menu.addClass(b.mm(this.opts.zposition))},_initPanles:function(){var a=this;this.__refactorClass(e("."+this.conf.listClass,this.$menu),"list");this.opts.isMenu&&e("ul, ol",this.$menu).not(".mm-nolist").addClass(b.list);var d=e("."+b.list+" > li",this.$menu);this.__refactorClass(d.filter("."+this.conf.selectedClass),
"selected");this.__refactorClass(d.filter("."+this.conf.labelClass),"label");this.__refactorClass(d.filter("."+this.conf.spacerClass),"spacer");d.off(c.setSelected).on(c.setSelected,function(a,c){a.stopPropagation();d.removeClass(b.selected);"boolean"!=typeof c&&(c=!0);c&&e(this).addClass(b.selected)});this.__refactorClass(e("."+this.conf.panelClass,this.$menu),"panel");this.$menu.children().filter(this.conf.panelNodetype).add(this.$menu.find("."+b.list).children().children().filter(this.conf.panelNodetype)).addClass(b.panel);
var g=e("."+b.panel,this.$menu);g.each(function(c){var d=e(this);c=d.attr("id")||b.mm("m"+a.serialnr+"-p"+c);d.attr("id",c)});g.find("."+b.panel).each(function(c){var d=e(this);c=d.is("ul, ol")?d:d.find("ul ,ol").first();var g=d.parent(),h=g.find("> a, > span"),f=g.closest("."+b.panel);d.data(l.parent,g);g.parent().is("."+b.list)&&(d=e('<a class="'+b.subopen+'" href="#'+d.attr("id")+'" />').insertBefore(h),h.is("a")||d.addClass(b.fullsubopen),"horizontal"==a.direction&&c.prepend('<li class="'+b.subtitle+
'"><a class="'+b.subclose+'" href="#'+f.attr("id")+'">'+h.text()+"</a></li>"))});var f="horizontal"==this.direction?c.open:c.toggle;g.each(function(b){var d=e(this);b=d.attr("id");e('a[href="#'+b+'"]',a.$menu).off(c.click).on(c.click,function(a){a.preventDefault();d.trigger(f)})});if("horizontal"==this.direction){var k=e("."+b.list+" > li."+b.selected,this.$menu);k.parents("li").removeClass(b.selected).end().add(k.parents("li")).each(function(){var a=e(this),c=a.find("> ."+b.panel);c.length&&(a.parents("."+
b.panel).addClass(b.subopened),c.addClass(b.opened))}).closest("."+b.panel).addClass(b.opened).parents("."+b.panel).addClass(b.subopened)}else k=e("li."+b.selected,this.$menu),k.parents("li").removeClass(b.selected).end().add(k.parents("li")).addClass(b.opened);k=g.filter("."+b.opened);k.length||(k=g.first());k.addClass(b.opened).last().addClass(b.current);"horizontal"==this.direction&&g.find("."+b.panel).appendTo(this.$menu)},_initLinks:function(){var a=this;e("."+b.list+" > li > a",this.$menu).not("."+
b.subopen).not("."+b.subclose).not('[rel="external"]').not('[target="_blank"]').off(c.click).on(c.click,function(h){var g=e(this),f=g.attr("href");a.__valueOrFn(a.opts.onClick.setSelected,g)&&g.parent().trigger(c.setSelected);(f=a.__valueOrFn(a.opts.onClick.preventDefault,g,"#"==f.slice(0,1)))&&h.preventDefault();a.__valueOrFn(a.opts.onClick.blockUI,g,!f)&&d.$html.addClass(b.blocking);a.__valueOrFn(a.opts.onClick.close,g,f)&&a.$menu.triggerHandler(c.close)})},_initOpenClose:function(){var a=this,
h=this.$menu.attr("id");h&&h.length&&(this.conf.clone&&(h=b.umm(h)),e('a[href="#'+h+'"]').off(c.click).on(c.click,function(b){b.preventDefault();a.$menu.trigger(c.open)}));if((h=d.$page.attr("id"))&&h.length)e('a[href="#'+h+'"]').on(c.click,function(b){b.preventDefault();a.$menu.trigger(c.close)})},__valueOrFn:function(a,b,c){return"function"==typeof a?a.call(b[0]):"undefined"==typeof a&&"undefined"!=typeof c?c:a},__refactorClass:function(a,c){a.removeClass(this.conf[c+"Class"]).addClass(b[c])}};
e.fn[f]=function(a,b){d.$wndw||q();a=m(a,b);b=p(b);return this.each(function(){var c=e(this);c.data(f)||c.data(f,new e[f](c,a,b))})};e[f].version="4.2.7";e[f].defaults={position:"left",zposition:"back",moveBackground:!0,slidingSubmenus:!0,modal:!1,classes:"",onClick:{setSelected:!0}};e[f].configuration={panelClass:"Panel",listClass:"List",selectedClass:"Selected",labelClass:"Label",spacerClass:"Spacer",pageNodetype:"div",panelNodetype:"ul, ol, div",pageSelector:null,menuWrapperSelector:"body",menuInjectMethod:"prepend",
transitionDuration:400};(function(){var a=window.document,b=window.navigator.userAgent;document.createElement("div");var c="ontouchstart"in a,a="WebkitOverflowScrolling"in a.documentElement.style;b=0<=b.indexOf("Android")?2.4>parseFloat(b.slice(b.indexOf("Android")+8)):!1;e[f].support={touch:c,oldAndroidBrowser:b,overflowscrolling:!c||a?!0:b?!1:!0}})();e[f].debug=function(a){};e[f].deprecated=function(a,b){"undefined"!=typeof console&&"undefined"!=typeof console.warn&&console.warn("MMENU: "+a+" is deprecated, use "+
b+" instead.")}}})(jQuery);
//# sourceMappingURL=jquery.mmenu.min.js.map
