(function(h){function k(e,f){var b=e.create("masonry");b.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();var a=this.cols;for(this.colYs=[];a--;)this.colYs.push(0);this.maxY=0};b.prototype.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var a=this.items[0];this.columnWidth=(a=a&&a.element)&&f(a).outerWidth||this.containerWidth}this.columnWidth+=this.gutter;this.cols=
Math.floor((this.containerWidth+this.gutter)/this.columnWidth);this.cols=Math.max(this.cols,1)};b.prototype.getContainerWidth=function(){var a=f(this.options.isFitWidth?this.element.parentNode:this.element);this.containerWidth=a&&a.innerWidth};b.prototype._getItemLayoutPosition=function(a){a.getSize();var c=a.size.outerWidth%this.columnWidth,c=Math[c&&1>c?"round":"ceil"](a.size.outerWidth/this.columnWidth),c=Math.min(c,this.cols),g=this._getColGroup(c),d=Math.min.apply(Math,g),c=l(g,d),b={x:this.columnWidth*
c,y:d};a=d+a.size.outerHeight;g=this.cols+1-g.length;for(d=0;d<g;d++)this.colYs[c+d]=a;return b};b.prototype._getColGroup=function(a){if(2>a)return this.colYs;for(var c=[],b=this.cols+1-a,d=0;d<b;d++){var f=this.colYs.slice(d,d+a);c[d]=Math.max.apply(Math,f)}return c};b.prototype._manageStamp=function(a){var c=f(a),b=this._getElementOffset(a);a=this.options.isOriginLeft?b.left:b.right;var d=a+c.outerWidth,e=Math.floor(a/this.columnWidth),e=Math.max(0,e);a=Math.floor(d/this.columnWidth);a-=d%this.columnWidth?
0:1;a=Math.min(this.cols-1,a);c=(this.options.isOriginTop?b.top:b.bottom)+c.outerHeight;for(b=e;b<=a;b++)this.colYs[b]=Math.max(c,this.colYs[b])};b.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};this.options.isFitWidth&&(a.width=this._getContainerFitWidth());return a};b.prototype._getContainerFitWidth=function(){for(var a=0,b=this.cols;--b&&0===this.colYs[b];)a++;return(this.cols-a)*this.columnWidth-this.gutter};b.prototype.needsResizeLayout=
function(){var a=this.containerWidth;this.getContainerWidth();return a!==this.containerWidth};return b}var l=Array.prototype.indexOf?function(e,f){return e.indexOf(f)}:function(e,f){for(var b=0,a=e.length;b<a;b++)if(e[b]===f)return b;return-1};"function"===typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],k):h.Masonry=k(h.Outlayer,h.getSize)})(window);
//# sourceMappingURL=masonry.min.js.map
